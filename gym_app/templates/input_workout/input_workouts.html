{% extends 'index.html' %}
{% load static %}

<title>{% block title %} Barbell | Input Workouts {% endblock %} </title>
        
{% block nav %}
    <li><a href="{% url 'profile' profile_id=request.user.id %}">GO BACK</a></li>                    
    {% block header %}
        <h1 class="barbell text-lg p-1 sm:text-2xl md:text-4xl lg:text-6xl md:m-8">Input Workouts</h1> 
    {% endblock %}
    
{% endblock %}
  {% block content %}
  <div class="flex justify-center">
    <form action="{% url 'profilesettings' %}" method="POST" class="w-5/6 sm:w-1/2">
      {% csrf_token %}
      <div class="flex justify-center p-3 mt-6">
        <p class="text-lg text-center">Choose the workouts you want to add to your routine</p>
      </div>

      <!-- Down arrow -->
      <div class="flex justify-center">
        <svg class="w-12 h-12 text-white animate-bounce" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 10 4 4 4-4"/>
          </svg>
      </div>

      <!-- FIXME:-->
      <div id="input-workout-root" class="flex justify-center"></div>
      
      <!-- Errors -->
      {% if form.non_field_errors %}
        <div class="alert alert-warning">
          {% for error in form.non_field_errors %}
            <p class="text-center underline p-3">{{ error }}</p>
          {% endfor %}
        </div>
      {% endif %} 
    </form>
  </div>
    {% endblock %}
{% block scripts %}
<script id="user-data" type="application/json">
    {
        "username": "{{ custom_user.username|escapejs }}",
        "profile_id": "{{ request.user.id }}"
    }
</script>

{{ custom_user.workouts|json_script:"workouts-data" }}

<script src="{% static 'dist/inputWorkouts.bundle.js' %}"></script>
{% endblock %}
